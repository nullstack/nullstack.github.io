{"instances": {"n-0":{},"n-0-0-0":{"expanded":false,"locale":"en-US","i18n":{"home":{"title":"Nullstack","href":"/"},"links":[{"title":"Documentation","href":"/documentation"},{"title":"Components","href":"/components"},{"title":"Contributors","href":"/contributors"},{"title":"Source","href":"https://github.com/nullstack/nullstack","target":"_blank"},{"title":"PortuguÃªs","href":"/pt-br"}],"action":{"title":"Get Started","href":"/getting-started"},"mode":{"dark":"Night Mode","light":"Day Mode"}}},"n-0-0-0-0-0-0-0-0":{},"n-0-0-0-0-0-0-1-0":{},"n-0-0-12":{"title":"Context Page","html":"<p>The page object is a proxy in the framework store part of your context and gives you information about the document head metatags.</p>\n<p>This key is <em>readwrite</em> and available only in the <em>client</em> context.</p>\n<p>Page keys will be used to generate metatags during <a href=\"/server-side-rendering\">server-side rendering</a> and must be assigned before <a href=\"/full-stack-lifecycle\">initiate</a> while this resolved.</p>\n<p>The following keys are available in the object:</p>\n<ul>\n<li><strong>title</strong>: <code>string</code></li>\n<li><strong>image</strong>: <code>string (absolute or relative URL)</code></li>\n<li><strong>description</strong>: <code>string</code></li>\n<li><strong>canonical</strong>: <code>string (absolute or relative URL)</code></li>\n<li><strong>locale</strong>: <code>string</code></li>\n<li><strong>robots</strong>: <code>string</code></li>\n<li><strong>schema</strong>: <code>object</code></li>\n<li><strong>changes</strong>: <code>string</code></li>\n<li><strong>priority</strong>: <code>number</code></li>\n<li><strong>status</strong>: <code>number</code></li>\n</ul>\n<p>When the title key is assigned on the client-side, the document title will be updated.</p>\n<p>Nullstack uses the <em>changes</em> and <em>priority</em> keys to generate the <code>sitemap.xml</code></p>\n<p>The sitemap is generated automatically only when using <a href=\"/static-site-generation\">static site generation</a> and must be manually generated in <a href=\"/server-side-rendering\">server-side rendered</a> applications</p>\n<p>The <em>changes</em> key represents the <em>changefreq</em> key in the <code>sitemap.xml</code> and if assigned must be one of the following values:</p>\n<ul>\n<li><strong>always</strong></li>\n<li><strong>hourly</strong></li>\n<li><strong>daily</strong></li>\n<li><strong>weekly</strong></li>\n<li><strong>monthly</strong></li>\n<li><strong>yearly</strong></li>\n<li><strong>never</strong></li>\n</ul>\n<p>The <em>priority</em> key is a number between <code>0.0</code> and <code>1.0</code> that represents the <em>priority</em> key in the <code>sitemap.xml</code></p>\n<p>Nullstack does not set a default priority, however, sitemaps assume a <code>0.5</code> priority when not explicitly set.</p>\n<p>Besides <em>title</em> and <em>locale</em> all other keys have sensible defaults generated based on the application scope.</p>\n<pre><code class=\"language-jsx\"><span class=\"token keyword\">import</span> Nullstack <span class=\"token keyword\">from</span> <span class=\"token string\">'nullstack'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Page</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Nullstack</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token function\">prepare</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>project<span class=\"token punctuation\">,</span> page<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    page<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>project<span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> - Page Title</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n    page<span class=\"token punctuation\">.</span>image <span class=\"token operator\">=</span> <span class=\"token string\">'/image.jpg'</span><span class=\"token punctuation\">;</span>\n    page<span class=\"token punctuation\">.</span>description <span class=\"token operator\">=</span> <span class=\"token string\">'Page meta description'</span><span class=\"token punctuation\">;</span>\n    page<span class=\"token punctuation\">.</span>canonical <span class=\"token operator\">=</span> <span class=\"token string\">'http://absolute.url/canonical-link'</span><span class=\"token punctuation\">;</span>\n    page<span class=\"token punctuation\">.</span>locale <span class=\"token operator\">=</span> <span class=\"token string\">'pt-BR'</span><span class=\"token punctuation\">;</span>\n    page<span class=\"token punctuation\">.</span>robots <span class=\"token operator\">=</span> <span class=\"token string\">'index, follow'</span><span class=\"token punctuation\">;</span>\n    page<span class=\"token punctuation\">.</span>schema <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    page<span class=\"token punctuation\">.</span>changes <span class=\"token operator\">=</span> <span class=\"token string\">'weekly'</span><span class=\"token punctuation\">;</span>\n    page<span class=\"token punctuation\">.</span>priority <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>page<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>page<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">{</span>page<span class=\"token punctuation\">.</span>description<span class=\"token punctuation\">}</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Page<span class=\"token punctuation\">;</span>\n</code></pre>\n<h2 id=\"custom-events\"><a href=\"#custom-events\">Custom Events</a></h2><p>Updating <em>page.title</em> will raise a custom event.</p>\n<pre><code class=\"language-jsx\"><span class=\"token keyword\">import</span> Nullstack <span class=\"token keyword\">from</span> <span class=\"token string\">'nullstack'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Analytics</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Nullstack</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token function\">hydrate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>page<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">.</span>event<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Analytics<span class=\"token punctuation\">;</span>\n</code></pre>\n<h2 id=\"error-pages\"><a href=\"#error-pages\">Error pages</a></h2><p>If during the <a href=\"/server-side-rendering\">server-side render</a> process the <em>page.status</em> has any value besides 200, your application will receive another render pass that gives you the chance to adjust the interface according to the status.</p>\n<p>The status key will be raised with the HTTP response.</p>\n<p>The page status will be modified to 500 and receive another render pass if the page raise an exception while rendering.</p>\n<p>The status of <a href=\"/server-functions\">server functions</a> responses will be set to the <em>page.status</em>.</p>\n<pre><code class=\"language-jsx\"><span class=\"token keyword\">import</span> Nullstack <span class=\"token keyword\">from</span> <span class=\"token string\">'nullstack'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> ErrorPage <span class=\"token keyword\">from</span> <span class=\"token string\">'./ErrorPage'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> HomePage <span class=\"token keyword\">from</span> <span class=\"token string\">'./HomePage'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Application</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Nullstack</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token comment\">// ...</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>page<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token punctuation\">{</span>page<span class=\"token punctuation\">.</span>status <span class=\"token operator\">!==</span> <span class=\"token number\">200</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ErrorPage</span></span> <span class=\"token attr-name\">route</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>*<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token punctuation\">}</span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">HomePage</span></span> <span class=\"token attr-name\">route</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Application<span class=\"token punctuation\">;</span>\n</code></pre>\n<blockquote>\n<p>ðŸ”¥ Assigning to the status key during the <a href=\"/full-stack-lifecycle\">single-page application</a> mode will have no effect.</p>\n</blockquote>\n<h2 id=\"next-step\"><a href=\"#next-step\">Next step</a></h2><p>âš” Learn about the <a href=\"/context-project\">context project</a>.</p>\n","description":"The page object is a proxy in the framework store part of your context and gives you information about the document head metatags"},"n-0-0-13":{},"n-0-0-15":{},"n-0-0-16":{"locale":"en-US","i18n":{"nullachan":{"alt":"Nulla-Chan","title":"Nulla-Chan: Nullstack's official waifu"},"links":[{"title":"YouTube","href":"https://www.youtube.com/channel/UCUNPaxoppH3lu6JTrUX78Ww"},{"title":"Twitter","href":"https://twitter.com/nullstackapp"},{"title":"GitHub","href":"https://github.com/nullstack"}]}}}, "page": {"image":"/image-1200x630.png","status":200,"title":"Context Page - Nullstack","description":"The page object is a proxy in the framework store part of your context and gives you information about the document head metatags"}}