{"instances": {"_.0":{},"_.0.0.1":{"expanded":false},"_.0.0.5":{"title":"Context Page","html":"<p>The page object is a proxy in the framework store part of your context and gives you information about the document head metatags.</p>\n<p>This key is <em>readwrite</em> and available only in the <em>client</em> context.</p>\n<p>Page keys will be used to generate metatags during <a href=\"/server-side-rendering\">server-side rendering</a> and must be assigned before <a href=\"/full-stack-lifecycle\">initiate</a> is resolved.</p>\n<p>The following keys are available in the object:</p>\n<ul>\n<li><em>title</em>: string</li>\n<li><em>image</em>: string (absolute or relative URL)</li>\n<li><em>description</em>: string</li>\n<li><em>canonical</em>: string (absolute or relative URL)</li>\n<li><em>locale</em>: string</li>\n<li><em>robots</em>: string</li>\n<li><em>schema</em>: object</li>\n<li><em>changes</em>: string</li>\n<li><em>priority</em>: number</li>\n</ul>\n<p>When the title key is assigned on the client-side, the document title will be updated.</p>\n<p>Nullstack uses the <em>changes</em> and <em>priority</em> keys to generate the sitemap.xml.</p>\n<p>The sitemap is generated automatically only when using <a href=\"/static-site-generation\">static-site generation</a> and must be manually generated in <a href=\"/server-side-rendering\">server-side rendered</a> applications</p>\n<p>The <em>changes</em> key represents the <em>changefreq</em> key in the sitemap.xml and if assigned must be one of the following values:</p>\n<ul>\n<li>always</li>\n<li>hourly</li>\n<li>daily</li>\n<li>weekly</li>\n<li>monthly</li>\n<li>yearly</li>\n<li>never</li>\n</ul>\n<p>The <em>priority</em> key is a number between 0.0 and 1.0 that represents the <em>priority</em> key in the sitemap.xml.</p>\n<p>Nullstack does not set a default priority, however, sitemaps assume a 0.5 priority when not explicitly set.</p>\n<p>Besides <em>title</em> and <em>locale</em> all other keys have sensible defaults generated based on the application scope.</p>\n<pre><code class=\"language-jsx\"><span class=\"token keyword\">import</span> Nullstack <span class=\"token keyword\">from</span> <span class=\"token string\">'nullstack'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Page</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Nullstack</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token function\">prepare</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>project<span class=\"token punctuation\">,</span> page<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    page<span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>project<span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> - Page Title</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n    page<span class=\"token punctuation\">.</span>image <span class=\"token operator\">=</span> <span class=\"token string\">'/image.jpg'</span><span class=\"token punctuation\">;</span>\n    page<span class=\"token punctuation\">.</span>description <span class=\"token operator\">=</span> <span class=\"token string\">'Page meta description'</span><span class=\"token punctuation\">;</span>\n    page<span class=\"token punctuation\">.</span>canonical <span class=\"token operator\">=</span> <span class=\"token string\">'http://absolute.url/canonical-link'</span><span class=\"token punctuation\">;</span>\n    page<span class=\"token punctuation\">.</span>locale <span class=\"token operator\">=</span> <span class=\"token string\">'pt-BR'</span><span class=\"token punctuation\">;</span>\n    page<span class=\"token punctuation\">.</span>robots <span class=\"token operator\">=</span> <span class=\"token string\">'index, follow'</span><span class=\"token punctuation\">;</span>\n    page<span class=\"token punctuation\">.</span>schema <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    page<span class=\"token punctuation\">.</span>changes <span class=\"token operator\">=</span> <span class=\"token string\">'weekly'</span><span class=\"token punctuation\">;</span>\n    page<span class=\"token punctuation\">.</span>priority <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>page<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span>page<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span> <span class=\"token punctuation\">{</span>page<span class=\"token punctuation\">.</span>description<span class=\"token punctuation\">}</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Page<span class=\"token punctuation\">;</span>\n</code></pre>\n<h2>Custom Events</h2>\n<p>Updating <em>page.title</em> will raise a custom <em>nullstack.page.title</em> event.</p>\n<pre><code class=\"language-jsx\"><span class=\"token keyword\">import</span> Nullstack <span class=\"token keyword\">from</span> <span class=\"token string\">'nullstack'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Analytics</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Nullstack</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token function\">hydrate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>page<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'nullstack.page.title'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Analytics<span class=\"token punctuation\">;</span>\n</code></pre>\n<h2>Next step</h2>\n<p>âš” Learn about the <a href=\"/context-project\">context project</a>.</p>\n","description":"The page object is a proxy in the framework store part of your context and gives you information about the document head metatags"},"_.0.0.7":{}}, "page": {"image":"/image-1200x630.png","locale":"en","title":"Context Page - Nullstack","description":"The page object is a proxy in the framework store part of your context and gives you information about the document head metatags"}}